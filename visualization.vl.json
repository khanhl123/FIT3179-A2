{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Slope chart showing change in transport mode proportions (2016â€“2021)",
  "data": {
    "url": "https://raw.githubusercontent.com/khanhl123/FIT3179-A2/main/proportion_transportation_slopchart.csv"
  },
  "transform": [
    {"fold": ["prop_2016_pct", "prop_2021_pct"], "as": ["Year", "Proportion"]},
    {"calculate": "datum.Year == 'prop_2016_pct' ? '2016' : '2021'", "as": "Year"}
  ],
  "mark": {"type": "line", "point": true, "strokeWidth": 3},
  "encoding": {
    "x": {
      "field": "Year",
      "type": "ordinal",
      "sort": ["2016", "2021"],
      "axis": {"title": "Year", "labelAngle": 0},
      "scale": {"padding": 0.05}
    },
    "y": {
      "field": "Proportion",
      "type": "quantitative",
      "axis": {
        "title": "Proportion (%)",
        "values": [0,10,20,30,40,50,60,70]
      },
      "scale": {"domain": [0,70], "nice": false}
    },
    "color": {
      "field": "mode",
      "type": "nominal",
      "legend": {"title": "Mode of Transport"}
    },
    "tooltip": [
      {"field": "mode", "title": "Mode"},
      {"field": "Year", "title": "Year"},
      {"field": "Proportion", "title": "Proportion (%)", "format": ".1f"}
    ]
  },
  "width": "container",
  "height": 320,
  "config": {
    "axis": {"labelFontSize": 12, "titleFontSize": 13},
    "legend": {"labelFontSize": 12, "titleFontSize": 13},
    "line": {"interpolate": "monotone"}
  }
}
